{"version":3,"sources":["app.js"],"names":["webshim","setOptions","lazyCustomMessages","replaceValidationUI","polyfill","$","inputmask","greedy","clearIncomplete","formHandler","forms","document","querySelectorAll","i","length","form","addEventListener","e","preventDefault","modalForm","querySelector","sec1Form","sec1Place","sec1Time","name","value","sharingName","localStorage","setItem","formData","serialize","ajax","type","url","data","success","window","location","error","console","log","sendMessageSuccess","headerLinkhandler","links","link","scrollEl","getAttribute","getPage","animate","scrollTop","offset","top","clientName","getElementById","shareName","getItem","textContent","createGallery","galleryClass","gallery","createGalleryContent","galleryContent","galleryItem","img","imgSrc","videoBlock","videoHead","head","videoName","videoLink","videoSubtitle","closeVideoLink","closeVideoBlock","videoImg","photoImg","insertAdjacentHTML","slickGalleryOptions","centerMode","centerPadding","slidesToShow","infinite","variableWidth","nextArrow","prevArrow","dots","responsive","breakpoint","settings","slickGallery","slick","modalWindowHandler","modalLinks","modalId","modal","number","openModal","createModalVideo","closeModalBtn","btn","closeModal","modals","target","classList","contains","createVideoContent","videoReview","heading","text","videoFrame","docLink","docTitle","docSize","setAttribute","style","display","src","innerText","paragraphs","paragraph","innerHTML","callback","add","body","remove","video","contentWindow","postMessage","initMap","places","coords","lat","lng","center","map","google","maps","Map","zoom","disableDefaultUI","place","marker","Marker","position","icon","index","addListener","open","j","mapIndex","matchMedia","matches","panTo","onload","getCity","cityWrap","cityEl","city","ymaps","geolocation"],"mappings":"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","file":"app.js","sourcesContent":["/*global $*/\r\n\r\n(function() {\r\n\twebshim.setOptions('forms', {\r\n\t\tlazyCustomMessages: true,\r\n\t\treplaceValidationUI: true\r\n\t});\r\n\twebshim.polyfill('forms');\r\n}());\r\n\r\n$(function() {\r\n\r\n\t$(\"input[name=phone]\").inputmask({\r\n\t\t\"mask\": \"+9(999)999-9999\",\r\n\t\tgreedy: false,\r\n\t\tclearIncomplete: true\r\n\t});\r\n\r\n\tfunction formHandler() {\r\n\t\tvar forms = document.querySelectorAll(\"form\");\r\n\r\n\t\tfor (var i = 0; i < forms.length; i++) {\r\n\t\t\t\r\n\t\t\t(function(i) {\r\n\t\t\t\tvar form = forms[i];\r\n\r\n\t\t\t\tform.addEventListener(\"submit\", function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tvar modalForm = document.querySelector(\"#modalFormSmall\");\r\n\t\t\t\t\tvar sec1Form = document.querySelector(\".sec1__form\");\r\n\t\t\t\t\tvar sec1Place = sec1Form.querySelector(\"[name=place]\");\r\n\t\t\t\t\tvar sec1Time = sec1Form.querySelector(\"[name=time]\");\r\n\t\t\t\t\tvar name = form.querySelector(\"[name=name]\").value === \"\" ? \"\" : form.querySelector(\"[name=name]\").value;\r\n\t\t\t\t\tvar sharingName = localStorage;\r\n\t\t\t\t\tsharingName.setItem(\"clientName\", name);\r\n\r\n\t\t\t\t\tif (sec1Place !== \"\") {\r\n\t\t\t\t\t\tmodalForm.querySelector(\"[name=place]\").value = sec1Place.value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (sec1Time !== \"\") {\r\n\t\t\t\t\t\tmodalForm.querySelector(\"[name=time]\").value = sec1Time.value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar formData = $(form).serialize();\r\n\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\turl: \"mail/send.php\",\r\n\t\t\t\t\t\tdata: formData,\r\n\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\twindow.location = \"thanks.html\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function() {\r\n\t\t\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tfunction sendMessageSuccess() {\r\n\t\t\t\t\t\twindow.location = \"thanks.html\"\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})(i);\r\n\t\t}\r\n\t}\r\n\tformHandler();\r\n\t\r\n\r\n\t(function headerLinkhandler() {\r\n\t\tvar links = document.querySelectorAll(\".header__nav-link\");\r\n\r\n\t\tfor (var i = 0; i < links.length; i++) {\r\n\r\n\t\t\t(function(i){\r\n\t\t\t\tvar link = links[i];\r\n\t\t\t\tvar scrollEl = link.getAttribute(\"href\");\r\n\r\n\t\t\t\tif (getPage() === \"main\") {\r\n\r\n\t\t\t\t\tlink.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t$(\"html, body\").animate({\r\n\t\t\t\t\t\t\tscrollTop: $(scrollEl).offset().top\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar clientName = document.getElementById(\"clientName\");\r\n\t\t\t\t\tvar shareName = localStorage.getItem(\"clientName\");\r\n\r\n\t\t\t\t\tclientName.textContent = (shareName) ? shareName + \", наши\" : \"Наши\";\r\n\r\n\t\t\t\t\tlink.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\t\twindow.location = \"/\" + scrollEl;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})(i);\r\n\t\t}\r\n\t})();\r\n\r\n\tfunction createGallery(galleryClass) {\r\n\t\tvar gallery = document.querySelector(galleryClass);\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: \"json/video.json\",\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tcreateGalleryContent(data);\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\tconsole.log(\"error\")\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction createGalleryContent(data) {\r\n\t\t\tvar gallery = document.querySelector(\".js-gallery\");\r\n\r\n\t\t\tif (gallery) {\r\n\t\t\t\tvar galleryContent = \"\";\r\n\t\t\t\tvar galleryItem;\r\n\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tgalleryItem = \"<div class='gallery__item'><div class='gallery__item-container container'>\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar img = \"<div class='gallery__img' style='background-image:url(img/\" + data[i].imgSrc + \")'></div>\";\r\n\t\t\t\t\tvar videoBlock = \"<div class='gallery__video-block'>\";\r\n\t\t\t\t\tvar videoHead = \"<p class='gallery__video-head'>\" + data[i].head + \"</p>\";\r\n\t\t\t\t\tvar videoName = \"<p class='gallery__video-name'>\" + data[i].name + \"</p>\";\r\n\t\t\t\t\tvar videoLink = \"<a data-form='#modalVideo' data-number=\" + i + \" class='gallery__video-link'>\";\r\n\t\t\t\t\tvar videoSubtitle = \"<span>Читать отзыв целиком</span>\";\r\n\t\t\t\t\tvar closeVideoLink = \"</a>\";\r\n\t\t\t\t\tvar closeVideoBlock = \"</div>\";\r\n\t\t\t\t\tvideoImg = \"<span class='gallery__video-img' style='background-image:url(https://img.youtube.com/vi/\" + data[i].videoLink + \"/0.jpg)'></span>\";\r\n\r\n\t\t\t\t\tif (data[i].videoLink) {\r\n\t\t\t\t\t\tvideoImg = \"<span class='gallery__video-img' style='background-image:url(https://img.youtube.com/vi/\" + data[i].videoLink + \"/0.jpg)'></span>\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvideoImg = \"<span class='gallery__video-img' style='background-image:url(img/\" + data[i].photoImg + \")'></span>\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgalleryItem += img + videoBlock + videoHead + videoName + videoLink + videoImg + videoSubtitle + closeVideoLink + closeVideoBlock;\r\n\t\t\t\t\tgalleryItem += \"</div></div>\";\r\n\t\t\t\t\tgalleryContent += galleryItem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgallery.insertAdjacentHTML(\"afterbegin\", galleryContent);\r\n\r\n\t\t\t\tvar slickGalleryOptions = {\r\n\t\t\t\t\tcenterMode: true,\r\n\t\t\t\t\tcenterPadding: '16vw',\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\tinfinite: false,\r\n\t\t\t\t\tvariableWidth: false,\r\n\t\t\t\t\tnextArrow: \".gallery__arrow_right\",\r\n\t\t\t\t\tprevArrow: \".gallery__arrow_left\",\r\n\t\t\t\t\tdots: true,\r\n\r\n\t\t\t\t\tresponsive: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbreakpoint: 1366,\r\n\t\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\t\tcenterPadding: '10vw',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbreakpoint: 1024,\r\n\t\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\t\tcenterMode: false,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t\tvar slickGallery = $(gallery).slick(slickGalleryOptions);\r\n\t\t\t\tmodalWindowHandler();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction modalWindowHandler() {\r\n\r\n\t\t(function(){\r\n\t\t\tvar modalLinks = document.querySelectorAll(\"a[data-form]\");\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < modalLinks.length; i++) {\r\n\r\n\t\t\t\t(function(i) {\r\n\t\t\t\t\tvar link = modalLinks[i];\r\n\t\t\t\t\tvar modalId = link.getAttribute(\"data-form\");\r\n\t\t\t\t\tvar modal = document.querySelector(modalId);\r\n\r\n\t\t\t\t\tif (modalId === \"#modalVideo\") {\r\n\t\t\t\t\t\tvar number = link.getAttribute(\"data-number\");\r\n\r\n\t\t\t\t\t\tlink.addEventListener(\"click\", function() {\r\n\r\n\t\t\t\t\t\t\topenModal(modal, function() {\r\n\t\t\t\t\t\t\t\tcreateModalVideo(number)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlink.addEventListener(\"click\", function() {\r\n\t\t\t\t\t\t\topenModal(modal);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})(i);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\t(function(){\r\n\t\t\tvar closeModalBtn = document.querySelectorAll(\".js-close-modal\");\r\n\t\t\tfor (var i = 0; i < closeModalBtn.length; i++) {\r\n\r\n\t\t\t\t(function(i) {\r\n\t\t\t\t\tvar btn = closeModalBtn[i];\r\n\r\n\t\t\t\t\tbtn.addEventListener(\"click\", function() {\r\n\t\t\t\t\t\tcloseModal();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})(i);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\t(function(){\r\n\t\t\tvar modals = document.querySelectorAll(\".modal\");\r\n\t\t\tfor (var i = 0; i < modals.length; i++) {\r\n\t\t\t\t\r\n\t\t\t\t(function(i) {\r\n\t\t\t\t\tvar modal = modals[i];\r\n\r\n\t\t\t\t\tmodal.addEventListener(\"click\", function(e) {\r\n\r\n\t\t\t\t\t\tif (e.target.classList.contains(\"modal\")) {\r\n\t\t\t\t\t\t\tcloseModal();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})(i);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\tfunction createModalVideo(number) {\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: \"json/video.json\",\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tcreateVideoContent(data);\r\n\t\t\t\t},\r\n\t\t\t\terror: function() {\r\n\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction createVideoContent(data) {\r\n\t\t\t\tvar videoReview = document.querySelector(\".modal__video-review\");\r\n\t\t\t\tvar heading = videoReview.querySelector(\".modal__video-head\");\r\n\t\t\t\tvar name = videoReview.querySelector(\".modal__video-name\");\r\n\t\t\t\tvar text = videoReview.querySelector(\".modal__video-text\");\r\n\t\t\t\tvar videoFrame = videoReview.querySelector(\".modal__video-frame\");\r\n\t\t\t\tvar docLink = videoReview.querySelector(\".modal__video-doc\");\r\n\t\t\t\tvar docTitle = videoReview.querySelector(\".modal__video-doc-title\");\r\n\t\t\t\tvar docSize = videoReview.querySelector(\".modal__video-doc-size span\");\r\n\t\t\t\tvar photoImg = videoReview.querySelector(\".modal__video-img\");;\r\n\r\n\t\t\t\tif (data[number].videoLink) {\r\n\t\t\t\t\tvideoFrame.setAttribute(\"src\", \"https://www.youtube.com/embed/\" + data[number].videoLink + \"?enablejsapi=1\");\r\n\t\t\t\t\tvideoFrame.style.display = \"block\";\r\n\t\t\t\t\tphotoImg.style.display = \"none\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvideoFrame.style.display = \"none\";\r\n\t\t\t\t\tphotoImg.style.display = \"block\";\r\n\t\t\t\t\tphotoImg.src = \"img/\" + data[number].photoImg;\r\n\r\n\t\t\t\t\t// photoImg = document.createElement(\"img\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// videoReview.appendChild(photoImg);\r\n\t\t\t\t}\r\n\r\n\t\t\t\theading.innerText = data[number].head;\r\n\t\t\t\tname.innerText = data[number].name;\r\n\t\t\t\t//videoFrame.setAttribute(\"src\", \"https://www.youtube.com/embed/\" + data[number].videoLink + \"?enablejsapi=1\");\r\n\t\t\t\t// docLink.setAttribute(\"href\", \"doc/\" + data[number].doc.link);\r\n\t\t\t\t// docTitle.innerText = data[number].doc.title;\r\n\t\t\t\t// docSize.innerText = data[number].doc.size;\r\n\r\n\t\t\t\tvar paragraphs = \"\";\r\n\t\t\t\tfor (var i = 0; i < data[number].text.length; i++) {\r\n\t\t\t\t\tvar paragraph = \"<p>\" + data[number].text[i] + \"</p>\";\r\n\t\t\t\t\tparagraphs += paragraph;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext.innerHTML = paragraphs;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction openModal(modal, callback) {\r\n\t\t\tmodal.classList.add(\"modal_open\");\r\n\t\t\tdocument.body.classList.add(\"body-overflow\");\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction closeModal() {\r\n\t\t\t\r\n\t\t\tif (document.querySelector(\".modal_open\")) {\r\n\t\t\t\tdocument.querySelector(\".modal_open\").classList.remove(\"modal_open\");\r\n\t\t\t\tdocument.body.classList.remove(\"body-overflow\");\r\n\r\n\t\t\t\tvar video = document.querySelector(\".modal__video-frame\").contentWindow;\r\n\t\t\t\tvideo.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initMap() {\r\n\r\n\t\tvar places = [\r\n\t\t\t{\r\n\t\t\t\tlink: \"https://www.google.ru/maps/place/%D0%91%D0%B0%D1%88%D0%BD%D1%8F+%D0%BD%D0%B0+%D0%9D%D0%B0%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%BD%D0%BE%D0%B9/@55.747095,37.5368749,15z/data=!4m5!3m4!1s0x0:0xd1159fc9bbe7cfec!8m2!3d55.747095!4d37.5368749\", \r\n\t\t\t\tcoords: {\r\n\t\t\t\t\tlat: 55.747808, \r\n\t\t\t\t\tlng: 37.536875\r\n\t\t\t\t},\r\n\t\t\t\tcenter: {\r\n\t\t\t\t\tlat: 55.748729, \r\n\t\t\t\t\tlng: 37.527479\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlink: \"https://www.google.ru/maps/place/%D1%83%D0%BB.+%D0%9F%D0%B0%D1%80%D0%B8%D0%B6%D1%81%D0%BA%D0%BE%D0%B9+%D0%9A%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D1%8B,+8,+%D0%9A%D0%B0%D0%B7%D0%B0%D0%BD%D1%8C,+%D0%A0%D0%B5%D1%81%D0%BF.+%D0%A2%D0%B0%D1%82%D0%B0%D1%80%D1%81%D1%82%D0%B0%D0%BD,+420021/@55.7838822,49.1127876,17z/data=!3m1!4b1!4m5!3m4!1s0x415ead1b391c2c2f:0xa3147e060d4eaf2d!8m2!3d55.7838822!4d49.1149763\",\r\n\t\t\t\tcoords: {\r\n\t\t\t\t\tlat: 55.784051, \r\n\t\t\t\t\tlng: 49.114966\r\n\t\t\t\t},\r\n\t\t\t\tcenter: {\r\n\t\t\t\t\tlat: 55.783206, \r\n\t\t\t\t\tlng: 49.107112\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tif (document.getElementById('map')) {\r\n\t\t\tvar map = new google.maps.Map(document.getElementById('map'), {\r\n\t\t\t\tzoom: 15,\r\n\t\t\t\tcenter: places[0].center,\r\n\t\t\t\tdisableDefaultUI: true,\r\n\t\t\t\t//scrollwheel: false\r\n\t\t\t});\r\n\r\n\t\t\tfor (var i = 0; i < places.length; i++) {\r\n\t\t\t\tvar place = places[i];\r\n\t\t\t\tvar marker = new google.maps.Marker({\r\n\t\t\t\t\tposition: place.coords,\r\n\t\t\t\t\tmap: map,\r\n\t\t\t\t\ticon: \"img/map-mark.png\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t(function(index) {\r\n\t\t\t\t\tmarker.addListener('click', function(e) {\r\n\t\t\t\t\t\twindow.open(places[index].link, \"_blank\")\r\n\t\t\t\t\t});\r\n\t\t\t\t})(i);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar links = document.querySelectorAll(\".sec11__maplink\");\r\n\t\r\n\t\t\tfor (var j = 0; j < links.length; j++) {\r\n\t\t\t\tvar link = links[j];\r\n\t\t\t\t\r\n\t\t\t\t(function(mapIndex) {\r\n\t\t\t\t\tlink.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\tif (window.matchMedia('(max-width:768px)').matches) {\r\n\t\t\t\t\t\t\tmap.panTo(places[mapIndex].coords);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmap.panTo(places[mapIndex].center);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})(j);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tinitMap();\r\n\r\n\tfunction getPage() {\r\n\r\n\t\tif (document.querySelector(\".thanks\")) {\r\n\t\t\treturn \"thanks\"\r\n\t\t} else {\r\n\t\t\treturn \"main\";\r\n\t\t}\r\n\t}\r\n\r\n\tcreateGallery(\".js-gallery\");\r\n});\r\n\r\nwindow.onload = function() {\r\n\tfunction getCity() {\r\n\t\tvar cityWrap = document.querySelector(\".header__city\");\r\n\t\tvar cityEl = cityWrap.querySelector(\"span\");\r\n\t\tvar city = ymaps.geolocation.city;\r\n\r\n\t\tif (city && city !== \"\") {\r\n\t\t\tcityEl.innerText = city;\r\n\t\t} else {\r\n\t\t\tcity.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\tgetCity();\r\n}"]}